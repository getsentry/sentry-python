# Tox (http://codespeak.net/~hpk/tox/) is a tool for running tests
# in multiple virtualenvs. This configuration file will run the
# test suite on all supported python versions. To use it, "pip install tox"
# and then run "tox" from this directory.
#
# This file has been generated from a template
# by scripts/populate_tox/populate_tox.py. Any changes to the file should be made
# in the script and the file regenerated.

[tox]
requires =
    # This version introduced using pip 24.1 which does not work with older Celery and HTTPX versions.
    virtualenv<20.26.3
envlist =
    # === Common ===
    {py3.6,py3.7,py3.8,py3.9,py3.10,py3.11,py3.12,py3.13}-common

    # === Gevent ===
    {py3.6,py3.8,py3.10,py3.11,py3.12}-gevent

    # === Cloud Resource Context ===
    {py3.6,py3.12,py3.13}-cloud_resource_context

    # ==== GCP ===
    {py3.7}-gcp

    # === Asgi ===
    {py3.7,py3.12,py3.13}-asgi

    # OpenTelemetry Experimental (POTel)
    {py3.8,py3.9,py3.10,py3.11,py3.12,py3.13}-potel

    # === Integrations ===
    # anthropic
    {py3.8,py3.13}-anthropic-v0.2.9
    {py3.7,py3.12}-anthropic-v0.14.1
    {py3.7,py3.12}-anthropic-v0.28.1
    {py3.8,py3.12}-anthropic-v0.42.0

    # cohere
    {py3.6,py3.13}-cohere-v0.0.8
    {py3.7,py3.11}-cohere-v4.4.2
    {py3.8,py3.12}-cohere-v4.38
    {py3.8,py3.12}-cohere-v5.13.6

    # langchain
    {py3.9,py3.12}-langchain-v0.1.9
    {py3.9,py3.12}-langchain-v0.2.17
    {py3.9,py3.13}-langchain-v0.3.14

    # langchain-notiktoken
    {py3.9,py3.12}-langchain-notiktoken-v0.1.9
    {py3.9,py3.12}-langchain-notiktoken-v0.2.17
    {py3.9,py3.13}-langchain-notiktoken-v0.3.14

    # openai
    {py3.7,py3.12}-openai-v1.2.4
    {py3.7,py3.12}-openai-v1.32.1
    {py3.8,py3.12}-openai-v1.59.5

    # openai-notiktoken
    {py3.7,py3.12}-openai-notiktoken-v1.2.4
    {py3.7,py3.12}-openai-notiktoken-v1.32.1
    {py3.8,py3.12}-openai-notiktoken-v1.59.5

    # huggingface_hub
    {py3.6,py3.13}-huggingface_hub-v0.0.9
    {py3.7,py3.13}-huggingface_hub-v0.9.1
    {py3.8,py3.11}-huggingface_hub-v0.18.0
    {py3.8,py3.13}-huggingface_hub-v0.27.1

    # aws_lambda
    {py3.5,py3.8}-aws_lambda-v2.0.1
    {py3.5,py3.8}-aws_lambda-v2.1.3

    # boto3
    {py2.7,py3.7}-boto3-v1.11.9
    {py2.7,py3.8}-boto3-v1.17.112
    {py3.7,py3.11}-boto3-v1.24.96
    {py3.8,py3.13}-boto3-v1.35.94

    # chalice
    {py2.7,py3.8}-chalice-v1.13.1
    {py2.7,py3.8}-chalice-v1.19.0
    {py3.6,py3.8}-chalice-v1.25.0
    {py3.8,py3.12}-chalice-v1.31.3

    # arq
    {py3.6}-arq-v0.15.1
    {py3.6,py3.9}-arq-v0.21
    {py3.7,py3.11}-arq-v0.24.0
    {py3.8,py3.12}-arq-v0.26.3

    # beam
    {py2.7,py3.7}-beam-v2.18.0
    {py3.6,py3.8}-beam-v2.32.0
    {py3.7,py3.10}-beam-v2.46.0
    {py3.9,py3.12}-beam-v2.61.0

    # celery
    {py2.7,py3.7}-celery-v4.3.1
    {py3.6,py3.8}-celery-v5.0.6
    {py3.7,py3.10}-celery-v5.2.7
    {py3.8,py3.12}-celery-v5.4.0

    # dramatiq
    {py3.5,py3.7}-dramatiq-v1.8.1
    {py3.5,py3.9}-dramatiq-v1.11.0
    {py3.7,py3.11}-dramatiq-v1.14.2
    {py3.8,py3.13}-dramatiq-v1.17.1

    # huey
    {py2.7,py3.7}-huey-v2.2.0
    {py2.7,py3.7}-huey-v2.3.2
    {py2.7,py3.11}-huey-v2.4.5
    {py2.7,py3.12}-huey-v2.5.2

    # ray
    {py3.6,py3.9}-ray-v1.13.0
    {py3.8,py3.11}-ray-v2.20.0
    {py3.9,py3.12}-ray-v2.40.0

    # rq
    {py2.7,py3.8}-rq-v1.2.2
    {py3.5,py3.8}-rq-v1.7.0
    {py3.5,py3.9}-rq-v1.12.0
    {py3.8,py3.12}-rq-v2.1.0

    # spark
    {py2.7,py3.7}-spark-v2.4.8
    {py3.6,py3.9}-spark-v3.1.3
    {py3.7,py3.10}-spark-v3.3.4
    {py3.8,py3.11}-spark-v3.5.4

    # asyncpg
    {py3.5,py3.7}-asyncpg-v0.20.1
    {py3.5,py3.9}-asyncpg-v0.23.0
    {py3.6,py3.10}-asyncpg-v0.26.0
    {py3.8,py3.12}-asyncpg-v0.30.0

    # clickhouse-driver
    {py2.7,py3.9}-clickhouse-driver-v0.1.5
    {py3.7,py3.12}-clickhouse-driver-v0.2.9

    # pymongo
    {py2.7,py3.9}-pymongo-v3.11.4
    {py3.6,py3.10}-pymongo-v4.1.1
    {py3.7,py3.12}-pymongo-v4.5.0
    {py3.8,py3.13}-pymongo-v4.10.1

    # redis
    {py2.7,py3.8}-redis-v3.4.1
    {py3.6,py3.10}-redis-v4.2.2
    {py3.7,py3.11}-redis-v4.6.0
    {py3.8,py3.12}-redis-v5.2.1

    # redis-py-cluster-legacy
    {py2.7,py3.8}-redis-py-cluster-legacy-v2.1.3

    # sqlalchemy
    {py2.7,py3.9}-sqlalchemy-v1.3.24
    {py2.7,py3.9}-sqlalchemy-v1.4.9
    {py2.7,py3.12}-sqlalchemy-v1.4.54
    {py3.7,py3.13}-sqlalchemy-v2.0.36

    # ariadne
    {py3.6,py3.8}-ariadne-v0.10.0
    {py3.7,py3.10}-ariadne-v0.15.1
    {py3.8,py3.11}-ariadne-v0.20.1
    {py3.8,py3.12}-ariadne-v0.24.0

    # gql
    {py2.7,py3.8}-gql-v0.3.0
    {py2.7,py3.8}-gql-v2.0.0
    {py3.6,py3.10}-gql-v3.2.0
    {py3.7,py3.12}-gql-v3.5.0

    # graphene
    {py2.7,py3.7}-graphene-v2.1.9
    {py3.6,py3.10}-graphene-v3.1.1
    {py3.6,py3.10}-graphene-v3.3
    {py3.8,py3.13}-graphene-v3.4.3

    # strawberry
    {py3.7}-strawberry-v0.20.3
    {py3.7,py3.10}-strawberry-v0.96.0
    {py3.7,py3.11}-strawberry-v0.175.1
    {py3.9,py3.13}-strawberry-v0.256.1

    # grpc
    {py2.7,py3.8}-grpc-v1.27.2
    {py3.5,py3.10}-grpc-v1.41.1
    {py3.7,py3.11}-grpc-v1.55.3
    {py3.8,py3.13}-grpc-v1.69.0

    # httpx
    {py3.6,py3.8}-httpx-v0.11.1
    {py3.6,py3.9}-httpx-v0.17.1
    {py3.7,py3.11}-httpx-v0.23.3
    {py3.8,py3.12}-httpx-v0.28.1

    # requests
    {py2.7,py3.8}-requests-v2.23.0
    {py2.7,py3.9}-requests-v2.26.0
    {py3.7,py3.11}-requests-v2.29.0
    {py3.8,py3.12}-requests-v2.32.3

    # django
    {py2.7,py3.7}-django-v1.11.29
    {py3.6,py3.9}-django-v3.1.14
    {py3.8,py3.11}-django-v4.1.9
    {py3.10,py3.13}-django-v5.1.4

    # flask
    {py2.6,py3.5}-flask-v0.12.5
    {py3.6,py3.13}-flask-v2.0.3
    {py3.7,py3.13}-flask-v2.2.5
    {py3.9,py3.13}-flask-v3.1.0

    # starlette
    {py3.6,py3.7}-starlette-v0.13.8
    {py3.7,py3.11}-starlette-v0.24.0
    {py3.8,py3.12}-starlette-v0.35.1
    {py3.9,py3.13}-starlette-v0.45.2

    # fastapi
    {py3.6,py3.8}-fastapi-v0.47.1
    {py3.6,py3.9}-fastapi-v0.70.1
    {py3.7,py3.11}-fastapi-v0.93.0
    {py3.8,py3.12}-fastapi-v0.115.6

    # aiohttp
    {py3.5,py3.7}-aiohttp-v3.6.3
    {py3.6,py3.10}-aiohttp-v3.8.6
    {py3.8,py3.13}-aiohttp-v3.10.9
    {py3.9,py3.13}-aiohttp-v3.11.11

    # bottle
    {py2.5,py3.7}-bottle-v0.12.25
    {py2.7,py3.9}-bottle-v0.13.2

    # falcon
    {py3.5,py3.9}-falcon-v3.0.1
    {py3.5,py3.12}-falcon-v3.1.3
    {py3.8,py3.13}-falcon-v4.0.2

    # litestar
    {py3.8,py3.11}-litestar-v2.0.1
    {py3.8,py3.12}-litestar-v2.4.5
    {py3.8,py3.12}-litestar-v2.8.3
    {py3.8,py3.12}-litestar-v2.13.0

    # pyramid
    {py2.7,py3.9}-pyramid-v1.10.8
    {py3.6,py3.11}-pyramid-v2.0.2

    # quart
    {py3.7,py3.8}-quart-v0.11.5
    {py3.7,py3.9}-quart-v0.14.1
    {py3.7,py3.10}-quart-v0.17.0
    {py3.9,py3.13}-quart-v0.20.0

    # sanic
    {py3.6,py3.7}-sanic-v19.12.5
    {py3.7,py3.9}-sanic-v21.6.2
    {py3.7,py3.11}-sanic-v22.12.0
    {py3.8,py3.11}-sanic-v24.12.0

    # starlite
    {py3.7,py3.10}-starlite-v0.1.6
    {py3.7,py3.10}-starlite-v1.12.0
    {py3.7,py3.11}-starlite-v1.32.0
    {py3.8,py3.12}-starlite-v1.51.16

    # tornado
    {py3.5,py3.8}-tornado-v6.0.4
    {py3.5,py3.9}-tornado-v6.1
    {py3.7,py3.10}-tornado-v6.2
    {py3.8,py3.11}-tornado-v6.4.2

    # launchdarkly
    {py2.7,py3.7}-launchdarkly-v6.12.2
    {py3.5,py3.10}-launchdarkly-v7.5.1
    {py3.8,py3.12}-launchdarkly-v9.1.0
    {py3.8,py3.13}-launchdarkly-v9.9.0

    # loguru
    {py3.5,py3.8}-loguru-v0.4.1
    {py3.5,py3.8}-loguru-v0.5.3
    {py3.5,py3.10}-loguru-v0.6.0
    {py3.5,py3.13}-loguru-v0.7.3

    # openfeature
    {py3.8,py3.13}-openfeature-v0.0.9
    {py3.8,py3.13}-openfeature-v0.2.0
    {py3.8,py3.13}-openfeature-v0.4.2
    {py3.8,py3.13}-openfeature-v0.7.4

    # pure_eval
    {py3.5,py3.9}-pure_eval-v0.1.1
    {py3.7,py3.13}-pure_eval-v0.2.3

    # trytond
    {py3.4,py3.7}-trytond-v5.0.63
    {py3.6,py3.8}-trytond-v5.8.16
    {py3.7,py3.10}-trytond-v6.6.9
    {py3.8,py3.12}-trytond-v7.4.3

    # typer
    {py3.6,py3.8}-typer-v0.0.9
    {py3.6,py3.8}-typer-v0.4.2
    {py3.6,py3.11}-typer-v0.9.4
    {py3.7,py3.12}-typer-v0.15.1


[testenv]
deps =
    # if you change requirements-testing.txt and your change is not being reflected
    # in what's installed by tox (when running tox locally), try running tox
    # with the -r flag
    -r requirements-testing.txt

    linters: -r requirements-linting.txt
    linters: werkzeug<2.3.0

    # === Common ===
    py3.8-common: hypothesis
    common: pytest-asyncio
    # See https://github.com/pytest-dev/pytest/issues/9621
    # and https://github.com/pytest-dev/pytest-forked/issues/67
    # for justification of the upper bound on pytest
    {py3.6,py3.7}-common: pytest<7.0.0
    {py3.8,py3.9,py3.10,py3.11,py3.12,py3.13}-common: pytest

    # === Gevent ===
    {py3.6,py3.7,py3.8,py3.9,py3.10,py3.11}-gevent: gevent>=22.10.0, <22.11.0
    {py3.12}-gevent: gevent
    # See https://github.com/pytest-dev/pytest/issues/9621
    # and https://github.com/pytest-dev/pytest-forked/issues/67
    # for justification of the upper bound on pytest
    {py3.6,py3.7}-gevent: pytest<7.0.0
    {py3.8,py3.9,py3.10,py3.11,py3.12}-gevent: pytest

    # === Asgi ===
    asgi: pytest-asyncio
    asgi: async-asgi-testclient

    # OpenTelemetry Experimental (POTel)
    potel: -e .[opentelemetry-experimental]

    # === Integrations ===
    # anthropic
    anthropic-v0.2.9: anthropic==0.2.9
    anthropic-v0.14.1: anthropic==0.14.1
    anthropic-v0.28.1: anthropic==0.28.1
    anthropic-v0.42.0: anthropic==0.42.0
    anthropic: httpx
    anthropic: pytest-asyncio

    # cohere
    cohere-v0.0.8: cohere==0.0.8
    cohere-v4.4.2: cohere==4.4.2
    cohere-v4.38: cohere==4.38
    cohere-v5.13.6: cohere==5.13.6

    # langchain
    langchain-v0.1.9: langchain==0.1.9
    langchain-v0.2.17: langchain==0.2.17
    langchain-v0.3.14: langchain==0.3.14
    langchain: langchain-community
    langchain: openai
    langchain: tiktoken
    langchain: httpx

    # langchain-notiktoken
    langchain-notiktoken-v0.1.9: langchain==0.1.9
    langchain-notiktoken-v0.2.17: langchain==0.2.17
    langchain-notiktoken-v0.3.14: langchain==0.3.14
    langchain-notiktoken: langchain-openai
    langchain-notiktoken: openai

    # openai
    openai-v1.2.4: openai==1.2.4
    openai-v1.32.1: openai==1.32.1
    openai-v1.59.5: openai==1.59.5
    openai: pytest-asyncio
    openai: tiktoken
    openai: httpx

    # openai-notiktoken
    openai-notiktoken-v1.2.4: openai==1.2.4
    openai-notiktoken-v1.32.1: openai==1.32.1
    openai-notiktoken-v1.59.5: openai==1.59.5
    openai-notiktoken: pytest-asyncio

    # huggingface_hub
    huggingface_hub-v0.0.9: huggingface_hub==0.0.9
    huggingface_hub-v0.9.1: huggingface_hub==0.9.1
    huggingface_hub-v0.18.0: huggingface_hub==0.18.0
    huggingface_hub-v0.27.1: huggingface_hub==0.27.1

    # aws_lambda
    aws_lambda-v2.0.1: aws_lambda==2.0.1
    aws_lambda-v2.1.3: aws_lambda==2.1.3
    aws_lambda: boto3

    # boto3
    boto3-v1.11.9: boto3==1.11.9
    boto3-v1.17.112: boto3==1.17.112
    boto3-v1.24.96: boto3==1.24.96
    boto3-v1.35.94: boto3==1.35.94

    # chalice
    chalice-v1.13.1: chalice==1.13.1
    chalice-v1.19.0: chalice==1.19.0
    chalice-v1.25.0: chalice==1.25.0
    chalice-v1.31.3: chalice==1.31.3
    chalice: pytest-chalice==0.0.5

    # arq
    arq-v0.15.1: arq==0.15.1
    arq-v0.21: arq==0.21
    arq-v0.24.0: arq==0.24.0
    arq-v0.26.3: arq==0.26.3
    arq: pydantic
    arq: fakeredis>=2.2.0,<2.8
    arq: pytest-asyncio
    arq: async-timeout

    # beam
    beam-v2.18.0: apache-beam==2.18.0
    beam-v2.32.0: apache-beam==2.32.0
    beam-v2.46.0: apache-beam==2.46.0
    beam-v2.61.0: apache-beam==2.61.0

    # celery
    celery-v4.3.1: celery==4.3.1
    celery-v5.0.6: celery==5.0.6
    celery-v5.2.7: celery==5.2.7
    celery-v5.4.0: celery==5.4.0
    celery: importlib-metadata
    celery: newrelic
    celery: redis

    # dramatiq
    dramatiq-v1.8.1: dramatiq==1.8.1
    dramatiq-v1.11.0: dramatiq==1.11.0
    dramatiq-v1.14.2: dramatiq==1.14.2
    dramatiq-v1.17.1: dramatiq==1.17.1

    # huey
    huey-v2.2.0: huey==2.2.0
    huey-v2.3.2: huey==2.3.2
    huey-v2.4.5: huey==2.4.5
    huey-v2.5.2: huey==2.5.2

    # ray
    ray-v1.13.0: ray==1.13.0
    ray-v2.20.0: ray==2.20.0
    ray-v2.40.0: ray==2.40.0

    # rq
    rq-v1.2.2: rq==1.2.2
    rq-v1.7.0: rq==1.7.0
    rq-v1.12.0: rq==1.12.0
    rq-v2.1.0: rq==2.1.0
    rq: fakeredis

    # spark
    spark-v2.4.8: pyspark==2.4.8
    spark-v3.1.3: pyspark==3.1.3
    spark-v3.3.4: pyspark==3.3.4
    spark-v3.5.4: pyspark==3.5.4

    # asyncpg
    asyncpg-v0.20.1: asyncpg==0.20.1
    asyncpg-v0.23.0: asyncpg==0.23.0
    asyncpg-v0.26.0: asyncpg==0.26.0
    asyncpg-v0.30.0: asyncpg==0.30.0
    asyncpg: pytest-asyncio

    # clickhouse-driver
    clickhouse-driver-v0.1.5: clickhouse-driver==0.1.5
    clickhouse-driver-v0.2.9: clickhouse-driver==0.2.9

    # pymongo
    pymongo-v3.11.4: pymongo==3.11.4
    pymongo-v4.1.1: pymongo==4.1.1
    pymongo-v4.5.0: pymongo==4.5.0
    pymongo-v4.10.1: pymongo==4.10.1
    pymongo: mockupdb

    # redis
    redis-v3.4.1: redis==3.4.1
    redis-v4.2.2: redis==4.2.2
    redis-v4.6.0: redis==4.6.0
    redis-v5.2.1: redis==5.2.1
    redis: fakeredis
    redis: pytest<8.0.0
    redis: pytest-asyncio

    # redis-py-cluster-legacy
    redis-py-cluster-legacy-v2.1.3: redis-py-cluster==2.1.3

    # sqlalchemy
    sqlalchemy-v1.3.24: sqlalchemy==1.3.24
    sqlalchemy-v1.4.9: sqlalchemy==1.4.9
    sqlalchemy-v1.4.54: sqlalchemy==1.4.54
    sqlalchemy-v2.0.36: sqlalchemy==2.0.36

    # ariadne
    ariadne-v0.10.0: ariadne==0.10.0
    ariadne-v0.15.1: ariadne==0.15.1
    ariadne-v0.20.1: ariadne==0.20.1
    ariadne-v0.24.0: ariadne==0.24.0
    ariadne: fastapi
    ariadne: flask
    ariadne: httpx

    # gql
    gql-v0.3.0: gql[all]==0.3.0
    gql-v2.0.0: gql[all]==2.0.0
    gql-v3.2.0: gql[all]==3.2.0
    gql-v3.5.0: gql[all]==3.5.0

    # graphene
    graphene-v2.1.9: graphene==2.1.9
    graphene-v3.1.1: graphene==3.1.1
    graphene-v3.3: graphene==3.3
    graphene-v3.4.3: graphene==3.4.3
    graphene: blinker
    graphene: fastapi
    graphene: flask
    graphene: httpx

    # strawberry
    strawberry-v0.20.3: strawberry-graphql[fastapi,flask]==0.20.3
    strawberry-v0.96.0: strawberry-graphql[fastapi,flask]==0.96.0
    strawberry-v0.175.1: strawberry-graphql[fastapi,flask]==0.175.1
    strawberry-v0.256.1: strawberry-graphql[fastapi,flask]==0.256.1
    strawberry: fastapi
    strawberry: flask
    strawberry: httpx

    # grpc
    grpc-v1.27.2: grpcio==1.27.2
    grpc-v1.41.1: grpcio==1.41.1
    grpc-v1.55.3: grpcio==1.55.3
    grpc-v1.69.0: grpcio==1.69.0
    grpc: protobuf
    grpc: mypy-protobuf
    grpc: types-protobuf
    grpc: pytest-asyncio

    # httpx
    httpx-v0.11.1: httpx==0.11.1
    httpx-v0.17.1: httpx==0.17.1
    httpx-v0.23.3: httpx==0.23.3
    httpx-v0.28.1: httpx==0.28.1
    httpx: anyio<4.0.0

    # requests
    requests-v2.23.0: requests==2.23.0
    requests-v2.26.0: requests==2.26.0
    requests-v2.29.0: requests==2.29.0
    requests-v2.32.3: requests==2.32.3

    # django
    django-v1.11.29: django==1.11.29
    django-v3.1.14: django==3.1.14
    django-v4.1.9: django==4.1.9
    django-v5.1.4: django==5.1.4
    django: channels[daphne]
    django: djangorestframework
    django: psycopg2-binary
    django: pytest-asyncio
    django: pytest-django
    django: six
    django: werkzeug

    # flask
    flask-v0.12.5: flask==0.12.5
    flask-v2.0.3: flask==2.0.3
    flask-v2.2.5: flask==2.2.5
    flask-v3.1.0: flask==3.1.0
    flask: flask-login
    flask: werkzeug
    flask: markupsafe

    # starlette
    starlette-v0.13.8: starlette==0.13.8
    starlette-v0.24.0: starlette==0.24.0
    starlette-v0.35.1: starlette==0.35.1
    starlette-v0.45.2: starlette==0.45.2
    starlette: pytest-asyncio
    starlette: python-multipart
    starlette: requests
    starlette: anyio<4.0.0
    starlette: jinja2
    starlette: httpx

    # fastapi
    fastapi-v0.47.1: fastapi==0.47.1
    fastapi-v0.70.1: fastapi==0.70.1
    fastapi-v0.93.0: fastapi==0.93.0
    fastapi-v0.115.6: fastapi==0.115.6
    fastapi: httpx
    fastapi: anyio<4.0.0
    fastapi: python-multipart
    fastapi: pytest-asyncio
    fastapi: requests

    # aiohttp
    aiohttp-v3.6.3: aiohttp==3.6.3
    aiohttp-v3.8.6: aiohttp==3.8.6
    aiohttp-v3.10.9: aiohttp==3.10.9
    aiohttp-v3.11.11: aiohttp==3.11.11
    aiohttp: pytest-aiohttp
    aiohttp: pytest-asyncio

    # bottle
    bottle-v0.12.25: bottle==0.12.25
    bottle-v0.13.2: bottle==0.13.2
    bottle: werkzeug<2.1.0

    # falcon
    falcon-v3.0.1: falcon==3.0.1
    falcon-v3.1.3: falcon==3.1.3
    falcon-v4.0.2: falcon==4.0.2

    # litestar
    litestar-v2.0.1: litestar==2.0.1
    litestar-v2.4.5: litestar==2.4.5
    litestar-v2.8.3: litestar==2.8.3
    litestar-v2.13.0: litestar==2.13.0
    litestar: pytest-asyncio
    litestar: python-multipart
    litestar: requests
    litestar: cryptography
    litestar: httpx

    # pyramid
    pyramid-v1.10.8: pyramid==1.10.8
    pyramid-v2.0.2: pyramid==2.0.2
    pyramid: werkzeug<2.1.0

    # quart
    quart-v0.11.5: quart==0.11.5
    quart-v0.14.1: quart==0.14.1
    quart-v0.17.0: quart==0.17.0
    quart-v0.20.0: quart==0.20.0
    quart: quart-auth
    quart: pytest-asyncio
    quart: blinker
    quart: jinja2
    quart: hypercorn
    quart: taskgroup

    # sanic
    sanic-v19.12.5: sanic==19.12.5
    sanic-v21.6.2: sanic==21.6.2
    sanic-v22.12.0: sanic==22.12.0
    sanic-v24.12.0: sanic==24.12.0
    sanic: websockets<11.0
    sanic: aiohttp
    sanic: sanic_testing
    sanic: aiocontextvars

    # starlite
    starlite-v0.1.6: starlite==0.1.6
    starlite-v1.12.0: starlite==1.12.0
    starlite-v1.32.0: starlite==1.32.0
    starlite-v1.51.16: starlite==1.51.16
    starlite: pytest-asyncio
    starlite: pytest-multipart
    starlite: requests
    starlite: cryptography
    starlite: pydantic<2.0.0
    starlite: httpx<0.28

    # tornado
    tornado-v6.0.4: tornado==6.0.4
    tornado-v6.1: tornado==6.1
    tornado-v6.2: tornado==6.2
    tornado-v6.4.2: tornado==6.4.2
    tornado: pytest

    # launchdarkly
    launchdarkly-v6.12.2: launchdarkly-server-sdk==6.12.2
    launchdarkly-v7.5.1: launchdarkly-server-sdk==7.5.1
    launchdarkly-v9.1.0: launchdarkly-server-sdk==9.1.0
    launchdarkly-v9.9.0: launchdarkly-server-sdk==9.9.0

    # loguru
    loguru-v0.4.1: loguru==0.4.1
    loguru-v0.5.3: loguru==0.5.3
    loguru-v0.6.0: loguru==0.6.0
    loguru-v0.7.3: loguru==0.7.3

    # openfeature
    openfeature-v0.0.9: openfeature-sdk==0.0.9
    openfeature-v0.2.0: openfeature-sdk==0.2.0
    openfeature-v0.4.2: openfeature-sdk==0.4.2
    openfeature-v0.7.4: openfeature-sdk==0.7.4

    # pure_eval
    pure_eval-v0.1.1: pure_eval==0.1.1
    pure_eval-v0.2.3: pure_eval==0.2.3

    # trytond
    trytond-v5.0.63: trytond==5.0.63
    trytond-v5.8.16: trytond==5.8.16
    trytond-v6.6.9: trytond==6.6.9
    trytond-v7.4.3: trytond==7.4.3
    trytond: werkzeug

    # typer
    typer-v0.0.9: typer==0.0.9
    typer-v0.4.2: typer==0.4.2
    typer-v0.9.4: typer==0.9.4
    typer-v0.15.1: typer==0.15.1



setenv =
    PYTHONDONTWRITEBYTECODE=1
    OBJC_DISABLE_INITIALIZE_FORK_SAFETY=YES
    COVERAGE_FILE=.coverage-sentry-{envname}
    py3.6: COVERAGE_RCFILE=.coveragerc36

    django: DJANGO_SETTINGS_MODULE=tests.integrations.django.myapp.settings

    common: TESTPATH=tests
    gevent: TESTPATH=tests
    aiohttp: TESTPATH=tests/integrations/aiohttp
    anthropic: TESTPATH=tests/integrations/anthropic
    ariadne: TESTPATH=tests/integrations/ariadne
    arq: TESTPATH=tests/integrations/arq
    asgi: TESTPATH=tests/integrations/asgi
    asyncpg: TESTPATH=tests/integrations/asyncpg
    aws_lambda: TESTPATH=tests/integrations/aws_lambda
    beam: TESTPATH=tests/integrations/beam
    boto3: TESTPATH=tests/integrations/boto3
    bottle: TESTPATH=tests/integrations/bottle
    celery: TESTPATH=tests/integrations/celery
    chalice: TESTPATH=tests/integrations/chalice
    clickhouse_driver: TESTPATH=tests/integrations/clickhouse_driver
    cohere: TESTPATH=tests/integrations/cohere
    cloud_resource_context: TESTPATH=tests/integrations/cloud_resource_context
    django: TESTPATH=tests/integrations/django
    dramatiq: TESTPATH=tests/integrations/dramatiq
    falcon: TESTPATH=tests/integrations/falcon
    fastapi:  TESTPATH=tests/integrations/fastapi
    flask: TESTPATH=tests/integrations/flask
    gcp: TESTPATH=tests/integrations/gcp
    gql: TESTPATH=tests/integrations/gql
    graphene: TESTPATH=tests/integrations/graphene
    grpc: TESTPATH=tests/integrations/grpc
    httpx: TESTPATH=tests/integrations/httpx
    huey: TESTPATH=tests/integrations/huey
    huggingface_hub: TESTPATH=tests/integrations/huggingface_hub
    langchain: TESTPATH=tests/integrations/langchain
    launchdarkly: TESTPATH=tests/integrations/launchdarkly
    litestar: TESTPATH=tests/integrations/litestar
    loguru: TESTPATH=tests/integrations/loguru
    openai: TESTPATH=tests/integrations/openai
    openfeature: TESTPATH=tests/integrations/openfeature
    opentelemetry: TESTPATH=tests/integrations/opentelemetry
    potel: TESTPATH=tests/integrations/opentelemetry
    pure_eval: TESTPATH=tests/integrations/pure_eval
    pymongo: TESTPATH=tests/integrations/pymongo
    pyramid: TESTPATH=tests/integrations/pyramid
    quart: TESTPATH=tests/integrations/quart
    ray: TESTPATH=tests/integrations/ray
    redis: TESTPATH=tests/integrations/redis
    redis_py_cluster_legacy: TESTPATH=tests/integrations/redis_py_cluster_legacy
    requests: TESTPATH=tests/integrations/requests
    rq: TESTPATH=tests/integrations/rq
    sanic: TESTPATH=tests/integrations/sanic
    spark: TESTPATH=tests/integrations/spark
    starlette: TESTPATH=tests/integrations/starlette
    starlite: TESTPATH=tests/integrations/starlite
    sqlalchemy: TESTPATH=tests/integrations/sqlalchemy
    strawberry: TESTPATH=tests/integrations/strawberry
    tornado: TESTPATH=tests/integrations/tornado
    trytond: TESTPATH=tests/integrations/trytond
    typer: TESTPATH=tests/integrations/typer
    socket: TESTPATH=tests/integrations/socket

passenv =
    SENTRY_PYTHON_TEST_AWS_ACCESS_KEY_ID
    SENTRY_PYTHON_TEST_AWS_SECRET_ACCESS_KEY
    SENTRY_PYTHON_TEST_POSTGRES_HOST
    SENTRY_PYTHON_TEST_POSTGRES_USER
    SENTRY_PYTHON_TEST_POSTGRES_PASSWORD
    SENTRY_PYTHON_TEST_POSTGRES_NAME

usedevelop = True

extras =
    bottle: bottle
    falcon: falcon
    flask: flask
    pymongo: pymongo

basepython =
    py3.6: python3.6
    py3.7: python3.7
    py3.8: python3.8
    py3.9: python3.9
    py3.10: python3.10
    py3.11: python3.11
    py3.12: python3.12
    py3.13: python3.13

    # Python version is pinned here because flake8 actually behaves differently
    # depending on which version is used. You can patch this out to point to
    # some random Python 3 binary, but then you get guaranteed mismatches with
    # CI. Other tools such as mypy and black have options that pin the Python
    # version.
    linters: python3.12

commands =
    {py3.7,py3.8}-boto3: pip install urllib3<2.0.0

    ; https://github.com/pallets/flask/issues/4455
    {py3.7,py3.8,py3.9,py3.10,py3.11}-flask-v{1}: pip install "itsdangerous>=0.24,<2.0" "markupsafe<2.0.0" "jinja2<3.1.1"

    ; Running `pytest` as an executable suffers from an import error
    ; when loading tests in scenarios. In particular, django fails to
    ; load the settings from the test module.
    python -m pytest {env:TESTPATH} -o junit_suite_name={envname} {posargs}

[testenv:linters]
commands =
    flake8 tests sentry_sdk
    black --check tests sentry_sdk
    mypy sentry_sdk
